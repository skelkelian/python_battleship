import unittest
import utils
from computer import Computer
from unittest.mock import patch
from configparser import ConfigParser


class TestComputer(unittest.TestCase):
    def test_primary_board_computer(self):
        # given
        expected_primary_board_computer = [
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        ]

        # when
        self.computer = Computer(config_name='config_easy_difficulty.ini')

        # assert
        self.assertEqual(expected_primary_board_computer, self.computer.primary_board_computer)

    @patch('computer.Computer.get_primary_board_computer', return_value=[
        [5, 5, 5, 5, 5, 0, 0, 0, 0, 0],
        [4, 4, 4, 4, 0, 0, 0, 0, 0, 0],
        [3, 3, 3, 0, 0, 0, 0, 0, 0, 0],
        [1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
        [2, 2, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ])
    @patch('computer.Computer.pick_point', return_value=(5, 1))
    def test_hit_counter_computer(self, get_primary_board_computer, pick_point):
        # create object of class Computer
        self.computer = Computer()

        # when
        expected_result = True

        # call method of class Computer
        observed_result = self.computer.track_hit_counter_computer()

        self.assertEqual(expected_result, observed_result)

